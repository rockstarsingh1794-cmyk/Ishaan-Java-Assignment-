Part (b): Display Employee Records with JDBC and Servlet Integration
Objective

To create a Java Servlet that connects to a database using JDBC, displays all employee records,
and provides a search option to fetch an employee by ID.

Database Setup (MySQL Example)

Run these commands in your MySQL terminal or phpMyAdmin before testing:

CREATE DATABASE company;
USE company;

CREATE TABLE Employee (
    EmpID INT PRIMARY KEY,
    Name VARCHAR(50),
    Salary DOUBLE
);

INSERT INTO Employee VALUES 
(1, 'Ravi Kumar', 35000), 
(2, 'Amit Sharma', 42000), 
(3, 'Sita Devi', 39000);
Project Structure
EmployeeApp/
│
├── employee.html
├── WEB-INF/
│   └── web.xml
└── src/
    └── EmployeeServlet.java

HTML File — employee.html

This file provides the search input form and a link to view all employee records.

<!DOCTYPE html>
<html>
<head>
    <title>Employee Records</title>
</head>
<body>
    <h2>Search Employee Details</h2>
    <form action="EmployeeServlet" method="get">
        Enter Employee ID: <input type="text" name="empid">
        <input type="submit" value="Search">
    </form>
    <br>
    <a href="EmployeeServlet">View All Employees</a>
</body>
</html>

Servlet Code — EmployeeServlet.java

This servlet handles both:

Displaying all employees

Searching for a specific employee by ID

import java.io.*;
import java.sql.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class EmployeeServlet extends HttpServlet {

    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        response.setContentType("text/html");
        PrintWriter out = response.getWriter();

        String empid = request.getParameter("empid"); // Get the Employee ID (if provided)

        // JDBC Connection setup
        String url = "jdbc:mysql://localhost:3306/company";
        String user = "root"; // change to your DB username
        String password = "yourpassword"; // change to your DB password

        try {
            // Load JDBC Driver
            Class.forName("com.mysql.cj.jdbc.Driver");

            // Establish Connection
            Connection con = DriverManager.getConnection(url, user, password);

            Statement stmt = con.createStatement();
            ResultSet rs;

            // If ID is entered, fetch specific employee, else show all
            if (empid != null && !empid.trim().isEmpty()) {
                rs = stmt.executeQuery("SELECT * FROM Employee WHERE EmpID = " + empid);
            } else {
                rs = stmt.executeQuery("SELECT * FROM Employee");
            }

            // Display results in an HTML table
            out.println("<html><body>");
            out.println("<h2>Employee Records</h2>");
            out.println("<table border='1' cellpadding='5' cellspacing='0'>");
            out.println("<tr><th>Employee ID</th><th>Name</th><th>Salary</th></tr>");

            boolean hasData = false;
            while (rs.next()) {
                hasData = true;
                out.println("<tr>");
                out.println("<td>" + rs.getInt("EmpID") + "</td>");
                out.println("<td>" + rs.getString("Name") + "</td>");
                out.println("<td>" + rs.getDouble("Salary") + "</td>");
                out.println("</tr>");
            }

            if (!hasData) {
                out.println("<tr><td colspan='3'>No Employee Found!</td></tr>");
            }

            out.println("</table>");
            out.println("<br><a href='employee.html'>Back to Search</a>");
            out.println("</body></html>");

            // Close resources
            con.close();

        } catch (Exception e) {
            out.println("<h3>Error: " + e.getMessage() + "</h3>");
        }
    }
}
 web.xml (Deployment Descriptor)

This file maps the servlet to the URL /EmployeeServlet.

<web-app>
    <servlet>
        <servlet-name>EmployeeServlet</servlet-name>
        <servlet-class>EmployeeServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>EmployeeServlet</servlet-name>
        <url-pattern>/EmployeeServlet</url-pattern>
    </servlet-mapping>
</web-app>
